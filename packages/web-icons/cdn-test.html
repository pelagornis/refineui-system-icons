<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Icon CDN 테스트</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .test-section {
            margin-bottom: 30px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
        }
        
        .test-section h2 {
            color: #555;
            border-bottom: 2px solid #007acc;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .test-item {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }
        
        .test-item h3 {
            color: #495057;
            margin-bottom: 10px;
        }
        
        .icon-display {
            font-size: 24px;
            margin: 10px 0;
            padding: 10px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            text-align: center;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .code {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 10px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 12px;
            margin: 10px 0;
        }
        
        .success {
            color: #28a745;
            font-weight: bold;
        }
        
        .error {
            color: #dc3545;
            font-weight: bold;
        }
        
        .info {
            color: #17a2b8;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🌍 Icon CDN 테스트</h1>
        
        <div class="test-section">
            <h2>1. CDN URL 생성 테스트</h2>
            <div class="test-item">
                <h3>CSS URL 생성</h3>
                <div class="code">const cssUrl = getCSSUrl('regular');</div>
                <div id="css-url-result"></div>
            </div>
            
            <div class="test-item">
                <h3>폰트 URL 생성</h3>
                <div class="code">const fontUrl = getFontUrl('regular', 'woff2');</div>
                <div id="font-url-result"></div>
            </div>
        </div>
        
        <div class="test-section">
            <h2>2. HTML 생성 테스트</h2>
            <div class="test-item">
                <h3>아이콘 HTML 생성</h3>
                <div class="code">const html = getIconHTML('Gavel', 'regular', 24, 'red');</div>
                <div class="icon-display" id="icon-html-result"></div>
            </div>
            
            <div class="test-item">
                <h3>CSS 클래스 HTML 생성</h3>
                <div class="code">const classHtml = getIconClassHTML('Gavel', 'regular', 24);</div>
                <div class="icon-display" id="class-html-result"></div>
            </div>
        </div>
        
        <div class="test-section">
            <h2>3. 유틸리티 함수 테스트</h2>
            <div class="test-item">
                <h3>아이콘 문자 가져오기</h3>
                <div class="code">const iconChar = getIconChar('Gavel', 'regular', 24);</div>
                <div class="icon-display" id="icon-char-result"></div>
            </div>
            
            <div class="test-item">
                <h3>폰트 패밀리 가져오기</h3>
                <div class="code">const fontFamily = getFontFamily('regular');</div>
                <div id="font-family-result"></div>
            </div>
        </div>
        
        <div class="test-section">
            <h2>4. 직접 함수 테스트</h2>
            <div class="test-item">
                <h3>Gavel 아이콘</h3>
                <div class="code">const gavel = Gavel(24);</div>
                <div class="icon-display" id="gavel-result"></div>
            </div>
            
            <div class="test-item">
                <h3>GavelFilled 아이콘</h3>
                <div class="code">const gavelFilled = GavelFilled(32);</div>
                <div class="icon-display" id="gavel-filled-result"></div>
            </div>
        </div>
    </div>

    <!-- 폰트 파일 로드 -->
    <link rel="stylesheet" href="dist/refineui-system-icons-regular.css">
    <link rel="stylesheet" href="dist/refineui-system-icons-filled.css">
    
    <!-- CDN 패키지 로드 (UMD 버전) -->
    <script src="../icon-cdn/dist/index.umd.js"></script>
    
    <script>
        function log(message, elementId, type = 'info') {
            const element = document.getElementById(elementId);
            if (element) {
                element.innerHTML = `<span class="${type}">${message}</span>`;
            }
            console.log(message);
        }
        
        // 페이지 로드 후 테스트 실행
        window.addEventListener('load', () => {
            setTimeout(() => {
                console.log('=== Icon CDN 테스트 시작 ===');
                
                try {
                    // 전역 함수 확인
                    if (typeof getCSSUrl === 'undefined') {
                        throw new Error('CDN 함수들이 로드되지 않았습니다');
                    }
                    
                    // 1. CDN URL 생성 테스트
                    const cssUrl = getCSSUrl('regular');
                    document.getElementById('css-url-result').innerHTML = 
                        `<div class="code">CSS URL: ${cssUrl}</div>
                         <div class="code">예상: https://cdn.jsdelivr.net/npm/@refineui/system-icons@latest/dist/refineui-system-icons-regular.css</div>`;
                    log('✅ CSS URL 생성 성공', 'css-url-result', 'success');
                    
                    const fontUrl = getFontUrl('regular', 'woff2');
                    document.getElementById('font-url-result').innerHTML = 
                        `<div class="code">Font URL: ${fontUrl}</div>
                         <div class="code">예상: https://cdn.jsdelivr.net/npm/@refineui/system-icons@latest/dist/refineui-system-icons-regular.woff2</div>`;
                    log('✅ Font URL 생성 성공', 'font-url-result', 'success');
                    
                    // 2. HTML 생성 테스트
                    const iconHtml = getIconHTML('Gavel', 'regular', 24, 'red');
                    document.getElementById('icon-html-result').innerHTML = iconHtml;
                    log('✅ 아이콘 HTML 생성 성공', 'icon-html-result', 'success');
                    
                    const classHtml = getIconClassHTML('Gavel', 'regular', 24);
                    document.getElementById('class-html-result').innerHTML = classHtml;
                    log('✅ CSS 클래스 HTML 생성 성공', 'class-html-result', 'success');
                    
                    // 3. 유틸리티 함수 테스트
                    const iconChar = getIconChar('Gavel', 'regular', 24);
                    const iconCharResult = document.getElementById('icon-char-result');
                    iconCharResult.textContent = iconChar;
                    iconCharResult.style.fontFamily = 'RefineUI-System-Icons-Regular';
                    iconCharResult.style.fontSize = '24px';
                    log('✅ 아이콘 문자 가져오기 성공', 'icon-char-result', 'success');
                    
                    const fontFamily = getFontFamily('regular');
                    document.getElementById('font-family-result').innerHTML = 
                        `<div class="code">Font Family: ${fontFamily}</div>`;
                    log('✅ 폰트 패밀리 가져오기 성공', 'font-family-result', 'success');
                    
                    // 4. 직접 함수 테스트
                    const gavel = Gavel(24);
                    const gavelResult = document.getElementById('gavel-result');
                    gavelResult.innerHTML = gavel;
                    log('✅ Gavel 함수 테스트 성공', 'gavel-result', 'success');
                    
                    const gavelFilled = GavelFilled(32);
                    const gavelFilledResult = document.getElementById('gavel-filled-result');
                    gavelFilledResult.innerHTML = gavelFilled;
                    log('✅ GavelFilled 함수 테스트 성공', 'gavel-filled-result', 'success');
                    
                } catch (error) {
                    log(`❌ CDN 테스트 실패: ${error.message}`, 'css-url-result', 'error');
                    console.error('CDN 테스트 오류:', error);
                }
                
                console.log('=== Icon CDN 테스트 완료 ===');
            }, 1000);
        });
    </script>
</body>
</html>
